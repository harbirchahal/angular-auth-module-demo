<ng-container *ngIf="tokenValid; else invalidToken">
  <form [formGroup]="resetPwdForm" (ngSubmit)="submit()">
    <div class="form-group">
      <label for="password">Password:</label>
      <input type="password" class="form-control" id="password"
        formControlName="password">
      <app-validate-message [control]="resetPwdForm.controls.password" 
        errorCode="WeakPassword"></app-validate-message>
    </div>
    <div class="form-group">
      <label for="confirmPassword">Confirm password:</label>
      <input type="password" class="form-control" id="confirmPassword"
        formControlName="confirmPassword">
      <app-validate-message [group]="resetPwdForm" 
        errorCode="MatchPassword"></app-validate-message>
    </div>
    <button type="submit" class="btn btn-primary"
      [disabled]="resetPwdForm.invalid || isSubmitted">Submit
    </button>
  </form>
</ng-container>
<ng-template #invalidToken>
  <div class="well">Recovery token has expired or incorrect.</div>
  <a routerLink="/forgot-password" class="btn btn-primary">Send email again</a> 
</ng-template>